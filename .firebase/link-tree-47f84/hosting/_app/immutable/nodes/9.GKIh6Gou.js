import{n as z,N as se,x as le,s as Nt,O as Dt,i as lt,o as ie,e as S,b as D,j as W,h as y,d as x,a as M,g as Z,y as Lt,A as ft,u as oe,p as ae,q as re,w as At,v as $,c as tt,E as ce,P as ue,k as Rt,l as Bt,t as Ut,f as Ft,D as fe,Q as Et,z as X,G as de}from"../chunks/scheduler.zz3ul0UI.js";import{u as he,w as me,x as _e,y as pe,S as Mt,i as Zt,d as N,v as qt,b as O,k as kt,h as Q,n as yt,t as H,a as b,q as it,z as It,e as _,A as ge,c as k,l as q,B as be,f as zt,g as Ht,m as Gt,j as Qt,p as ve}from"../chunks/index._-4GGrLL.js";import{U as Wt,g as ke,a as ye}from"../chunks/UserLink.2wEetFeZ.js";import{p as at}from"../chunks/stores.Txw1MrOu.js";import{e as et,c as rt,u as ct,o as Tt,p as Pt,f as nt,t as Vt,g as ut}from"../chunks/firebase.C_KIC9ip.js";import{w as xt}from"../chunks/index.UsJA9eeQ.js";import{c as we}from"../chunks/index.3RTtd_1L.js";function Ce(n,t,e,s){if(!t)return z;const i=n.getBoundingClientRect();if(t.left===i.left&&t.right===i.right&&t.top===i.top&&t.bottom===i.bottom)return z;const{delay:l=0,duration:o=300,easing:c=se,start:u=he()+l,end:d=u+o,tick:a=z,css:m}=e(n,{from:t,to:i},s);let h=!0,r=!1,f;function g(){m&&(f=_e(n,0,1,o,l,c,m)),l||(r=!0)}function v(){m&&pe(n,f),h=!1}return me(j=>{if(!r&&j>=u&&(r=!0),r&&j>=d&&(a(1,0),v()),!h)return!1;if(r){const B=j-u,E=0+1*c(B/o);a(E,1-E)}return!0}),g(),a(0,1),v}function Se(n){const t=getComputedStyle(n);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:e,height:s}=t,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=e,n.style.height=s,De(n,i)}}function De(n,t){const e=n.getBoundingClientRect();if(t.left!==e.left||t.top!==e.top){const s=getComputedStyle(n),i=s.transform==="none"?"":s.transform;n.style.transform=`${i} translate(${t.left-e.left}px, ${t.top-e.top}px)`}}function Yt(n,{from:t,to:e},s={}){const i=getComputedStyle(n),l=i.transform==="none"?"":i.transform,[o,c]=i.transformOrigin.split(" ").map(parseFloat),u=t.left+t.width*o/e.width-(e.left+o),d=t.top+t.height*c/e.height-(e.top+c),{delay:a=0,duration:m=r=>Math.sqrt(r)*120,easing:h=we}=s;return{delay:a,duration:le(m)?m(Math.sqrt(u*u+d*d)):m,easing:h,css:(r,f)=>{const g=f*u,v=f*d,j=r+f*t.width/e.width,B=r+f*t.height/e.height;return`transform: ${l} translate(${g}px, ${v}px) scale(${j}, ${B});`}}}const wt="C:/Users/amine/Desktop/Learning/svelte/link-tree/src/lib/components/SortableList.svelte";function st(n,t,e){const s=n.slice();return s[9]=t[e],s[11]=e,s}const Le=n=>({item:n&1,index:n&1}),Ot=n=>({item:n[9],index:n[11]});function Jt(n){let t,e="No items";const s={c:function(){t=S("p"),t.textContent=e,this.h()},l:function(l){t=D(l,"P",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1jmwi8z"&&(t.textContent=e),this.h()},h:function(){_(t,"class","text-center my-12 text-lg font-bold"),y(t,wt,72,2,1726)},m:function(l,o){O(l,t,o)},p:z,i:z,o:z,d:function(l){l&&b(t)}};return N("SvelteRegisterBlock",{block:s,id:Jt.name,type:"else",source:"(60:0) {:else}",ctx:n}),s}function Kt(n){let t,e=[],s=new Map,i,l=it(n[0]);const o=u=>u[9].id;It(n,l,st,o);for(let u=0;u<l.length;u+=1){let d=st(n,l,u),a=o(d);s.set(a,e[u]=dt(a,d))}const c={c:function(){t=S("ul");for(let d=0;d<e.length;d+=1)e[d].c();this.h()},l:function(d){t=D(d,"UL",{class:!0});var a=x(t);for(let m=0;m<e.length;m+=1)e[m].l(a);a.forEach(b),this.h()},h:function(){_(t,"class","list-none p-0 flex flex-col items-center"),y(t,wt,53,2,1109)},m:function(d,a){O(d,t,a);for(let m=0;m<e.length;m+=1)e[m]&&e[m].m(t,null);i=!0},p:function(d,a){if(a&63){l=it(d[0]),kt();for(let m=0;m<e.length;m+=1)e[m].r();It(d,l,st,o),e=ge(e,a,o,1,d,l,s,t,be,dt,null,st);for(let m=0;m<e.length;m+=1)e[m].a();yt()}},i:function(d){if(!i){for(let a=0;a<l.length;a+=1)H(e[a]);i=!0}},o:function(d){for(let a=0;a<e.length;a+=1)Q(e[a]);i=!1},d:function(d){d&&b(t);for(let a=0;a<e.length;a+=1)e[a].d()}};return N("SvelteRegisterBlock",{block:c,id:Kt.name,type:"if",source:"(41:0) {#if list?.length}",ctx:n}),c}function dt(n,t){let e,s,i,l,o,c=z,u,d,a;const m=t[6].default,h=ie(m,t,t[5],Ot),r={key:n,first:null,c:function(){e=S("li"),h&&h.c(),s=M(),this.h()},l:function(g){e=D(g,"LI",{class:!0,"data-index":!0,"data-id":!0,draggable:!0});var v=x(e);h&&h.l(v),s=Z(v),v.forEach(b),this.h()},h:function(){_(e,"class","border-2 border-dashed border-transparent p-2 transition-all max-w-md w-full s-bF1CfGpt5Wxa"),_(e,"data-index",i=t[11]),_(e,"data-id",l=t[9].id),_(e,"draggable","true"),Lt(e,"over",t[9].id===t[1]),y(e,wt,55,6,1213),this.first=e},m:function(g,v){O(g,e,v),h&&h.m(e,null),k(e,s),u=!0,d||(a=[q(e,"dragstart",Xt,!1,!1,!1,!1),q(e,"dragover",ft(t[2]),!1,!0,!1,!1),q(e,"dragleave",t[3],!1,!1,!1,!1),q(e,"drop",ft(t[4]),!1,!0,!1,!1)],d=!0)},p:function(g,v){t=g,h&&h.p&&(!u||v&33)&&oe(h,m,t,t[5],u?re(m,t[5],v,Le):ae(t[5]),Ot),(!u||v&1&&i!==(i=t[11]))&&_(e,"data-index",i),(!u||v&1&&l!==(l=t[9].id))&&_(e,"data-id",l),(!u||v&3)&&Lt(e,"over",t[9].id===t[1])},r:function(){o=e.getBoundingClientRect()},f:function(){Se(e),c()},a:function(){c(),c=Ce(e,o,Yt,{duration:300})},i:function(g){u||(H(h,g),u=!0)},o:function(g){Q(h,g),u=!1},d:function(g){g&&b(e),h&&h.d(g),d=!1,At(a)}};return N("SvelteRegisterBlock",{block:r,id:dt.name,type:"each",source:"(43:4) {#each list as item, index (item.id)}",ctx:t}),r}function ht(n){let t,e,s,i;const l=[Kt,Jt],o=[];function c(d,a){return d[0]?.length?0:1}t=c(n),e=o[t]=l[t](n);const u={c:function(){e.c(),s=lt()},l:function(a){e.l(a),s=lt()},m:function(a,m){o[t].m(a,m),O(a,s,m),i=!0},p:function(a,[m]){let h=t;t=c(a),t===h?o[t].p(a,m):(kt(),Q(o[h],1,1,()=>{o[h]=null}),yt(),e=o[t],e?e.p(a,m):(e=o[t]=l[t](a),e.c()),H(e,1),e.m(s.parentNode,s))},i:function(a){i||(H(e),i=!0)},o:function(a){Q(e),i=!1},d:function(a){a&&b(s),o[t].d(a)}};return N("SvelteRegisterBlock",{block:u,id:ht.name,type:"component",source:"",ctx:n}),u}function J(n){return n.dataset.index?{...n.dataset}:J(n.parentNode)}function Xt(n){const t=J(n.target);n.dataTransfer?.setData("source",t?.index.toString())}function Re(n,t,e){let{$$slots:s={},$$scope:i}=t;qt("SortableList",s,["default"]);let{list:l}=t,o=!1;const c=Dt();function u(r){r.target.dataset?.id;const f=J(r.target);e(1,o=f?.id??!1)}function d(r){const f=J(r.target);o===f.id&&e(1,o=!1)}function a(r){e(1,o=!1);const f=J(r.target);m({from:r.dataTransfer?.getData("source"),to:f.index})}const m=({from:r,to:f})=>{const g=[...l];g[r]=[g[f],g[f]=g[r]][0],c("sort",g)};n.$$.on_mount.push(function(){l===void 0&&!("list"in t||n.$$.bound[n.$$.props.list])&&console.warn("<SortableList> was created without expected prop 'list'")});const h=["list"];return Object.keys(t).forEach(r=>{!~h.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<SortableList> was created with unknown prop '${r}'`)}),n.$$set=r=>{"list"in r&&e(0,l=r.list),"$$scope"in r&&e(5,i=r.$$scope)},n.$capture_state=()=>({flip:Yt,createEventDispatcher:Dt,list:l,isOver:o,dispatch:c,getDraggedParent:J,onDragStart:Xt,onDragOver:u,onDragLeave:d,onDrop:a,reorder:m}),n.$inject_state=r=>{"list"in r&&e(0,l=r.list),"isOver"in r&&e(1,o=r.isOver)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),[l,o,u,d,a,i,s]}class $t extends Mt{constructor(t){super(t),Zt(this,t,Re,ht,Nt,{list:0}),N("SvelteRegisterComponent",{component:this,tagName:"SortableList",options:t,id:ht.name})}get list(){throw new Error("<SortableList>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set list(t){throw new Error("<SortableList>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const L="C:/Users/amine/Desktop/Learning/svelte/link-tree/src/routes/[username]/edit/+page.svelte";function jt(n,t,e){const s=n.slice();return s[20]=t[e],s}function mt(n){let t,e="Edit your Profile",s,i,l,o,c;i=new $t({props:{list:n[5]?.links,$$slots:{default:[te,({item:h})=>({23:h}),({item:h})=>h?8388608:0]},$$scope:{ctx:n}},$$inline:!0}),i.$on("sort",n[12]);function u(h,r){return h[3]?ne:ee}let d=u(n),a=d(n);const m={c:function(){t=S("h1"),t.textContent=e,s=M(),zt(i.$$.fragment),l=M(),a.c(),o=lt(),this.h()},l:function(r){t=D(r,"H1",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-199dvnc"&&(t.textContent=e),s=Z(r),Ht(i.$$.fragment,r),l=Z(r),a.l(r),o=lt(),this.h()},h:function(){_(t,"class","mx-2 text-2xl font-bold mt-8 mb-4 text-center text-white md:text-3xl"),y(t,L,77,4,1568)},m:function(r,f){O(r,t,f),O(r,s,f),Gt(i,r,f),O(r,l,f),a.m(r,f),O(r,o,f),c=!0},p:function(r,f){const g={};f&32&&(g.list=r[5]?.links),f&25165824&&(g.$$scope={dirty:f,ctx:r}),i.$set(g),d===(d=u(r))&&a?a.p(r,f):(a.d(1),a=d(r),a&&(a.c(),a.m(o.parentNode,o)))},i:function(r){c||(H(i.$$.fragment,r),c=!0)},o:function(r){Q(i.$$.fragment,r),c=!1},d:function(r){r&&(b(t),b(s),b(l),b(o)),Qt(i,r),a.d(r)}};return N("SvelteRegisterBlock",{block:m,id:mt.name,type:"if",source:"(67:2) {#if $userData?.username == $page.params.username}",ctx:n}),m}function te(n){let t,e,s,i,l,o,c,u,d,a,m="Delete",h,r,f;const g=[n[23]];let v={};for(let E=0;E<g.length;E+=1)v=ce(v,g[E]);e=new Wt({props:v,$$inline:!0});function j(){return n[13](n[23])}const B={c:function(){t=S("div"),zt(e.$$.fragment),s=M(),i=S("div"),l=S("button"),o=S("div"),c=Rt("svg"),u=Rt("path"),d=M(),a=S("div"),a.textContent=m,this.h()},l:function(V){t=D(V,"DIV",{class:!0});var A=x(t);Ht(e.$$.fragment,A),s=Z(A),i=D(A,"DIV",{class:!0});var U=x(i);l=D(U,"BUTTON",{class:!0});var C=x(l);o=D(C,"DIV",{class:!0});var I=x(o);c=Bt(I,"svg",{viewBox:!0,class:!0,fill:!0,height:!0,width:!0,xmlns:!0});var T=x(c);u=Bt(T,"path",{d:!0,class:!0}),x(u).forEach(b),T.forEach(b),I.forEach(b),d=Z(C),a=D(C,"DIV",{class:!0,"data-svelte-h":!0}),W(a)!=="svelte-lpc65z"&&(a.textContent=m),C.forEach(b),U.forEach(b),A.forEach(b),this.h()},h:function(){_(u,"d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06Zm6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528ZM8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"),_(u,"class","s-8lkPTZh8tAaF"),y(u,L,104,16,2561),_(c,"viewBox","0 0 16 16"),_(c,"class","bi bi-trash3-fill s-8lkPTZh8tAaF"),_(c,"fill","currentColor"),_(c,"height","18"),_(c,"width","18"),_(c,"xmlns","http://www.w3.org/2000/svg"),y(c,L,96,14,2296),_(o,"class","sign s-8lkPTZh8tAaF"),y(o,L,95,12,2262),_(a,"class","text s-8lkPTZh8tAaF"),y(a,L,110,12,3102),_(l,"class","Btn s-8lkPTZh8tAaF"),y(l,L,94,10,2194),_(i,"class","absolute -top-5 -right-6 invisible group-hover:visible"),y(i,L,93,8,2114),_(t,"class","group relative"),y(t,L,85,6,1820)},m:function(V,A){O(V,t,A),Gt(e,t,null),k(t,s),k(t,i),k(i,l),k(l,o),k(o,c),k(c,u),k(l,d),k(l,a),h=!0,r||(f=q(l,"click",j,!1,!1,!1,!1),r=!0)},p:function(V,A){n=V;const U=A&8388608?ke(g,[ye(n[23])]):{};e.$set(U)},i:function(V){h||(H(e.$$.fragment,V),h=!0)},o:function(V){Q(e.$$.fragment,V),h=!1},d:function(V){V&&b(t),Qt(e),r=!1,f()}};return N("SvelteRegisterBlock",{block:B,id:te.name,type:"slot",source:"(75:4) <SortableList list={$userData?.links} on:sort={sortList} let:item>",ctx:n}),B}function ee(n){let t,e="Add a Link",s,i;const l={c:function(){t=S("button"),t.textContent=e,this.h()},l:function(c){t=D(c,"BUTTON",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-16w985d"&&(t.textContent=e),this.h()},h:function(){_(t,"class","btn btn-outline btn-info block mx-auto my-4 px-10"),y(t,L,174,6,4837)},m:function(c,u){O(c,t,u),s||(i=q(t,"click",n[17],!1,!1,!1,!1),s=!0)},p:z,d:function(c){c&&b(t),s=!1,i()}};return N("SvelteRegisterBlock",{block:l,id:ee.name,type:"else",source:"(164:4) {:else}",ctx:n}),l}function ne(n){let t,e,s,i,l,o,c,u,d,a,m,h,r,f,g,v,j,B,E="Cancel",V,A,U=it(n[7]),C=[];for(let F=0;F<U.length;F+=1)C[F]=_t(jt(n,U,F));let I=!n[0]&&pt(n),T=!n[1]&&gt(n),p=n[4]&&bt(n);const G={c:function(){t=S("form"),e=S("div"),s=S("select");for(let w=0;w<C.length;w+=1)C[w].c();i=M(),l=S("input"),o=M(),c=S("div"),u=S("input"),d=M(),a=S("div"),I&&I.c(),m=M(),T&&T.c(),h=M(),p&&p.c(),r=M(),f=S("button"),g=Ut("Add Link"),j=M(),B=S("button"),B.textContent=E,this.h()},l:function(w){t=D(w,"FORM",{class:!0});var P=x(t);e=D(P,"DIV",{class:!0});var R=x(e);s=D(R,"SELECT",{name:!0,class:!0});var K=x(s);for(let ot=0;ot<C.length;ot+=1)C[ot].l(K);K.forEach(b),i=Z(R),l=D(R,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),R.forEach(b),o=Z(P),c=D(P,"DIV",{class:!0});var Ct=x(c);u=D(Ct,"INPUT",{name:!0,type:!0,placeholder:!0,class:!0}),Ct.forEach(b),d=Z(P),a=D(P,"DIV",{class:!0});var Y=x(a);I&&I.l(Y),m=Z(Y),T&&T.l(Y),h=Z(Y),p&&p.l(Y),Y.forEach(b),r=Z(P),f=D(P,"BUTTON",{type:!0,class:!0});var St=x(f);g=Ft(St,"Add Link"),St.forEach(b),j=Z(P),B=D(P,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),W(B)!=="svelte-1cr269f"&&(B.textContent=E),P.forEach(b),this.h()},h:function(){_(s,"name","icon"),_(s,"class","select select-sm"),n[2].icon===void 0&&fe(()=>n[14].call(s)),y(s,L,122,10,3396),_(l,"name","title"),_(l,"type","text"),_(l,"placeholder","Title"),_(l,"class","input input-sm"),y(l,L,131,10,3675),_(e,"class","mb-3"),y(e,L,121,8,3366),_(u,"name","url"),_(u,"type","text"),_(u,"placeholder","URL"),_(u,"class","input input-sm"),y(u,L,141,10,3915),_(c,"class","mb-3"),y(c,L,140,8,3885),_(a,"class","my-4"),y(a,L,150,8,4119),f.disabled=v=!n[4],_(f,"type","submit"),_(f,"class","btn btn-success block"),y(f,L,162,8,4504),_(B,"type","button"),_(B,"class","btn btn-error my-4 px-10 py-4 text-white"),y(B,L,167,8,4650),_(t,"class","bg-base-200 p-6 w-full mx-auto rounded-xl my-6"),y(t,L,117,6,3234)},m:function(w,P){O(w,t,P),k(t,e),k(e,s);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(s,null);Et(s,n[2].icon,!0),k(e,i),k(e,l),X(l,n[2].title),k(t,o),k(t,c),k(c,u),X(u,n[2].url),k(t,d),k(t,a),I&&I.m(a,null),k(a,m),T&&T.m(a,null),k(a,h),p&&p.m(a,null),k(t,r),k(t,f),k(f,g),k(t,j),k(t,B),V||(A=[q(s,"change",n[14]),q(l,"input",n[15]),q(u,"input",n[16]),q(B,"click",n[11],!1,!1,!1,!1),q(t,"submit",ft(n[9]),!1,!0,!1,!1)],V=!0)},p:function(w,P){if(P&128){U=it(w[7]);let R;for(R=0;R<U.length;R+=1){const K=jt(w,U,R);C[R]?C[R].p(K,P):(C[R]=_t(K),C[R].c(),C[R].m(s,null))}for(;R<C.length;R+=1)C[R].d(1);C.length=U.length}P&132&&Et(s,w[2].icon),P&132&&l.value!==w[2].title&&X(l,w[2].title),P&132&&u.value!==w[2].url&&X(u,w[2].url),w[0]?I&&(I.d(1),I=null):I||(I=pt(w),I.c(),I.m(a,m)),w[1]?T&&(T.d(1),T=null):T||(T=gt(w),T.c(),T.m(a,h)),w[4]?p||(p=bt(w),p.c(),p.m(a,null)):p&&(p.d(1),p=null),P&16&&v!==(v=!w[4])&&ve(f,"disabled",v)},d:function(w){w&&b(t),de(C,w),I&&I.d(),T&&T.d(),p&&p.d(),V=!1,At(A)}};return N("SvelteRegisterBlock",{block:G,id:ne.name,type:"if",source:"(107:4) {#if showForm}",ctx:n}),G}function _t(n){let t,e=n[20]+"",s;const i={c:function(){t=S("option"),s=Ut(e),this.h()},l:function(o){t=D(o,"OPTION",{});var c=x(t);s=Ft(c,e),c.forEach(b),this.h()},h:function(){t.__value=n[20].toLowerCase(),X(t,t.__value),y(t,L,128,14,3571)},m:function(o,c){O(o,t,c),k(t,s)},p:z,d:function(o){o&&b(t)}};return N("SvelteRegisterBlock",{block:i,id:_t.name,type:"each",source:"(118:12) {#each icons as icon}",ctx:n}),i}function pt(n){let t,e="Must have valid title";const s={c:function(){t=S("p"),t.textContent=e,this.h()},l:function(l){t=D(l,"P",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1clkdjx"&&(t.textContent=e),this.h()},h:function(){_(t,"class","text-error text-xs"),y(t,L,152,12,4182)},m:function(l,o){O(l,t,o)},d:function(l){l&&b(t)}};return N("SvelteRegisterBlock",{block:s,id:pt.name,type:"if",source:"(142:10) {#if !titleIsValid}",ctx:n}),s}function gt(n){let t,e="Must have a valid URL";const s={c:function(){t=S("p"),t.textContent=e,this.h()},l:function(l){t=D(l,"P",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-ckpz19"&&(t.textContent=e),this.h()},h:function(){_(t,"class","text-error text-xs"),y(t,L,155,12,4297)},m:function(l,o){O(l,t,o)},d:function(l){l&&b(t)}};return N("SvelteRegisterBlock",{block:s,id:gt.name,type:"if",source:"(145:10) {#if !urlIsValid}",ctx:n}),s}function bt(n){let t,e="Looks good!";const s={c:function(){t=S("p"),t.textContent=e,this.h()},l:function(l){t=D(l,"P",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-18u4utf"&&(t.textContent=e),this.h()},h:function(){_(t,"class","text-success text-xs"),y(t,L,158,12,4412)},m:function(l,o){O(l,t,o)},d:function(l){l&&b(t)}};return N("SvelteRegisterBlock",{block:s,id:bt.name,type:"if",source:"(148:10) {#if formIsValid}",ctx:n}),s}function vt(n){let t,e,s=n[5]?.username==n[6].params.username&&mt(n);const i={c:function(){t=S("main"),s&&s.c(),this.h()},l:function(o){t=D(o,"MAIN",{class:!0});var c=x(t);s&&s.l(c),c.forEach(b),this.h()},h:function(){_(t,"class","max-w-xl w-full mx-auto mt-32"),y(t,L,75,0,1464)},m:function(o,c){O(o,t,c),s&&s.m(t,null),e=!0},p:function(o,[c]){o[5]?.username==o[6].params.username?s?(s.p(o,c),c&96&&H(s,1)):(s=mt(o),s.c(),H(s,1),s.m(t,null)):s&&(kt(),Q(s,1,1,()=>{s=null}),yt())},i:function(o){e||(H(s),e=!0)},o:function(o){Q(s),e=!1},d:function(o){o&&b(t),s&&s.d()}};return N("SvelteRegisterBlock",{block:i,id:vt.name,type:"component",source:"",ctx:n}),i}function Be(n,t,e){let s,i,l,o,c,u,d;$(ct,"user"),tt(n,ct,p=>e(18,o=p)),$(rt,"userData"),tt(n,rt,p=>e(5,u=p)),$(at,"page"),tt(n,at,p=>e(6,d=p));let{$$slots:a={},$$scope:m}=t;qt("Page",a,[]);const h=["Twitter","YouTube","TikTok","LinkedIn","GitHub","Custom"],r={icon:"custom",title:"",url:"https://"},f=xt(r);$(f,"formData"),tt(n,f,p=>e(2,c=p));let g=!1;async function v(p){const G=nt(et,"users",o.uid);await ut(G,{links:Pt({...c,id:Date.now().toString()})}),f.set({icon:"",title:"",url:""}),e(3,g=!1)}async function j(p){const G=nt(et,"users",o.uid);await ut(G,{links:Tt(p)})}function B(){f.set(r),e(3,g=!1)}function E(p){const G=p.detail,F=nt(et,"users",o.uid);Vt(F,{links:G},{merge:!0})}const V=[];Object.keys(t).forEach(p=>{!~V.indexOf(p)&&p.slice(0,2)!=="$$"&&p!=="slot"&&console.warn(`<Page> was created with unknown prop '${p}'`)});const A=p=>j(p);function U(){c.icon=ue(this),f.set(c),e(7,h)}function C(){c.title=this.value,f.set(c),e(7,h)}function I(){c.url=this.value,f.set(c),e(7,h)}const T=()=>e(3,g=!0);return n.$capture_state=()=>({page:at,UserLink:Wt,db:et,userData:rt,user:ct,arrayRemove:Tt,arrayUnion:Pt,doc:nt,setDoc:Vt,updateDoc:ut,writable:xt,SortableList:$t,icons:h,formDefaults:r,formData:f,showForm:g,addLink:v,deleteLink:j,cancelLink:B,sortList:E,titleIsValid:i,urlIsValid:s,formIsValid:l,$user:o,$formData:c,$userData:u,$page:d}),n.$inject_state=p=>{"showForm"in p&&e(3,g=p.showForm),"titleIsValid"in p&&e(0,i=p.titleIsValid),"urlIsValid"in p&&e(1,s=p.urlIsValid),"formIsValid"in p&&e(4,l=p.formIsValid)},t&&"$$inject"in t&&n.$inject_state(t.$$inject),n.$$.update=()=>{n.$$.dirty&4&&e(1,s=c.url.match(/^(ftp|http|https):\/\/[^ "]+$/)),n.$$.dirty&4&&e(0,i=c.title.length<20&&c.title.length>0),n.$$.dirty&3&&e(4,l=s&&i)},[i,s,c,g,l,u,d,h,f,v,j,B,E,A,U,C,I,T]}class je extends Mt{constructor(t){super(t),Zt(this,t,Be,vt,Nt,{}),N("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:vt.name})}}export{je as component};
