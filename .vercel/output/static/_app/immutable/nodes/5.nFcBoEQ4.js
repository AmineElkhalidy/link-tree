import{s as A,k as j,a as k,e as h,t as G,g as L,c as m,b as w,m as $,f as u,d as q,o as i,i as y,h as g,p as H,q as U}from"../chunks/scheduler.AmCVIchs.js";import{S as B,i as F,c as N,a as S,m as T,t as J,b as O,d as X}from"../chunks/index.-Ukn1yxz.js";import{A as Y}from"../chunks/AuthCheck.BYQiuIha.js";import{u as z,b as K,r as Q,c as W,d as Z,g as ee,e as te,f as re,h as se}from"../chunks/firebase.8j1TfjjC.js";function ae(f){let e,o="Upload a Profile Picture:",r,t,a,d,c,n;return{c(){e=h("h2"),e.textContent=o,r=k(),t=h("div"),a=h("div"),d=h("div"),c=h("img"),this.h()},l(s){e=m(s,"H2",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-pdpwuw"&&(e.textContent=o),r=L(s),t=m(s,"DIV",{});var l=w(t);a=m(l,"DIV",{class:!0});var v=w(a);d=m(v,"DIV",{class:!0});var b=w(d);c=m(b,"IMG",{src:!0,alt:!0}),b.forEach(u),v.forEach(u),l.forEach(u),this.h()},h(){i(e,"class","text-xl font-semibold text-white mb-4"),U(c.src,n=f[1]??"/profile.webp")||i(c,"src",n),i(c,"alt","User profile"),i(d,"class","w-24 rounded-full border border-indigo-500"),i(a,"class","avatar")},m(s,l){y(s,e,l),y(s,r,l),y(s,t,l),g(t,a),g(a,d),g(d,c)},p(s,l){l&2&&!U(c.src,n=s[1]??"/profile.webp")&&i(c,"src",n)},d(s){s&&(u(e),u(r),u(t))}}}function le(f){let e,o="Change Your Profile Picture:",r,t,a,d,c,n;return{c(){e=h("h2"),e.textContent=o,r=k(),t=h("div"),a=h("div"),d=h("div"),c=h("img"),this.h()},l(s){e=m(s,"H2",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-qwsfbr"&&(e.textContent=o),r=L(s),t=m(s,"DIV",{});var l=w(t);a=m(l,"DIV",{class:!0});var v=w(a);d=m(v,"DIV",{class:!0});var b=w(d);c=m(b,"IMG",{src:!0,alt:!0}),b.forEach(u),v.forEach(u),l.forEach(u),this.h()},h(){i(e,"class","text-xl font-semibold text-white mb-4"),U(c.src,n=f[1]??f[0].photoURL)||i(c,"src",n),i(c,"alt","User profile"),i(d,"class","w-24 rounded-full border border-indigo-500"),i(a,"class","avatar")},m(s,l){y(s,e,l),y(s,r,l),y(s,t,l),g(t,a),g(a,d),g(d,c)},p(s,l){l&3&&!U(c.src,n=s[1]??s[0].photoURL)&&i(c,"src",n)},d(s){s&&(u(e),u(r),u(t))}}}function oe(f){let e,o,r,t,a,d='<svg class="w-8 h-8 mb-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 16"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"></path></svg> <p class="mb-2 text-sm text-gray-500 dark:text-gray-400"><span class="font-semibold">Click to upload</span> or drag and drop</p> <p class="text-xs text-gray-500 dark:text-gray-400">SVG, PNG, JPG or GIF (MAX. 800x400px)</p>',c,n,s,l,v,b,C,E;function V(p,_){return p[0]?.photoURL?le:ae}let D=V(f),x=D(f);return{c(){x.c(),e=k(),o=h("div"),r=h("div"),t=h("label"),a=h("div"),a.innerHTML=d,c=k(),n=h("input"),s=k(),l=h("div"),v=h("a"),b=G("Finish"),this.h()},l(p){x.l(p),e=L(p),o=m(p,"DIV",{class:!0});var _=w(o);r=m(_,"DIV",{class:!0});var R=w(r);t=m(R,"LABEL",{for:!0,class:!0});var I=w(t);a=m(I,"DIV",{class:!0,"data-svelte-h":!0}),$(a)!=="svelte-1sfwsko"&&(a.innerHTML=d),c=L(I),n=m(I,"INPUT",{id:!0,type:!0,class:!0,accept:!0}),I.forEach(u),R.forEach(u),s=L(_),l=m(_,"DIV",{class:!0});var P=w(l);v=m(P,"A",{href:!0,class:!0});var M=w(v);b=q(M,"Finish"),M.forEach(u),P.forEach(u),_.forEach(u),this.h()},h(){i(a,"class","flex flex-col items-center justify-center pt-5 pb-6"),i(n,"id","photoURL"),i(n,"type","file"),i(n,"class","hidden"),i(n,"accept","image/png, image/jpeg, image/gif, image/webp"),i(t,"for","photoURL"),i(t,"class","flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),i(r,"class","flex items-center justify-center w-full"),i(v,"href",f[2]),i(v,"class","btn btn-primary text-white px-10 font-semibold sm:text-lg"),i(l,"class","mt-4"),i(o,"class","w-full")},m(p,_){x.m(p,_),y(p,e,_),y(p,o,_),g(o,r),g(r,t),g(t,a),g(t,c),g(t,n),g(o,s),g(o,l),g(l,v),g(v,b),C||(E=H(n,"change",f[3]),C=!0)},p(p,_){D===(D=V(p))&&x?x.p(p,_):(x.d(1),x=D(p),x&&(x.c(),x.m(e.parentNode,e))),_&4&&i(v,"href",p[2])},d(p){p&&(u(e),u(o)),x.d(p),C=!1,E()}}}function ie(f){let e,o;return e=new Y({props:{$$slots:{default:[oe]},$$scope:{ctx:f}}}),{c(){N(e.$$.fragment)},l(r){S(e.$$.fragment,r)},m(r,t){T(e,r,t),o=!0},p(r,[t]){const a={};t&71&&(a.$$scope={dirty:t,ctx:r}),e.$set(a)},i(r){o||(J(e.$$.fragment,r),o=!0)},o(r){O(e.$$.fragment,r),o=!1},d(r){X(e,r)}}}function ne(f,e,o){let r,t,a;j(f,z,n=>o(5,t=n)),j(f,K,n=>o(0,a=n));let d;async function c(n){const s=n.target.files[0];o(1,d=URL.createObjectURL(s));const l=Q(W,`users/${t.uid}/profile.png`),v=await Z(l,s),b=await ee(v.ref);await te(re(se,"users",t.uid),{photoURL:b})}return f.$$.update=()=>{f.$$.dirty&1&&o(2,r=`/${a?.username}`)},[a,d,r,c]}class pe extends B{constructor(e){super(),F(this,e,ne,ie,A,{})}}export{pe as component};
