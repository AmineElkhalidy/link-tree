import{s as _e,v as te,c as ae,a as I,e as v,k as re,t as se,g as P,b as g,d as y,l as oe,j as N,f as ne,h as p,m as q}from"../chunks/scheduler.zz3ul0UI.js";import{S as be,i as ke,d as A,v as we,f as ye,g as xe,m as Ce,t as Re,h as De,j as Ue,a as h,e as s,b as E,c as f,l as Ee}from"../chunks/index._-4GGrLL.js";import{A as pe}from"../chunks/AuthCheck._EWQpYVE.js";import{c as J,d as ie,e as le,u as T,f as ce,g as ue,h as de,r as fe,i as he}from"../chunks/firebase.C_KIC9ip.js";const m="C:/Users/amine/Desktop/Learning/svelte/link-tree/src/routes/login/photo/+page.svelte";function me(u){let e,l="Upload a Profile Picture:",c,r,t,o,n,b;const _={c:function(){e=v("h2"),e.textContent=l,c=I(),r=v("div"),t=v("div"),o=v("div"),n=v("img"),this.h()},l:function(i){e=g(i,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-pdpwuw"&&(e.textContent=l),c=P(i),r=g(i,"DIV",{});var a=y(r);t=g(a,"DIV",{class:!0});var x=y(t);o=g(x,"DIV",{class:!0});var k=y(o);n=g(k,"IMG",{src:!0,alt:!0}),k.forEach(h),x.forEach(h),a.forEach(h),this.h()},h:function(){s(e,"class","text-xl font-semibold text-white mb-4"),p(e,m,39,4,1118),q(n.src,b=u[1]??"/profile.webp")||s(n,"src",b),s(n,"alt","User profile"),p(n,m,45,10,1329),s(o,"class","w-24 rounded-full border border-indigo-500"),p(o,m,44,8,1261),s(t,"class","avatar"),p(t,m,43,6,1231),p(r,m,42,4,1218)},m:function(i,a){E(i,e,a),E(i,c,a),E(i,r,a),f(r,t),f(t,o),f(o,n)},p:function(i,a){a&2&&!q(n.src,b=i[1]??"/profile.webp")&&s(n,"src",b)},d:function(i){i&&(h(e),h(c),h(r))}};return A("SvelteRegisterBlock",{block:_,id:me.name,type:"else",source:"(33:2) {:else}",ctx:u}),_}function ve(u){let e,l="Change Your Profile Picture:",c,r,t,o,n,b;const _={c:function(){e=v("h2"),e.textContent=l,c=I(),r=v("div"),t=v("div"),o=v("div"),n=v("img"),this.h()},l:function(i){e=g(i,"H2",{class:!0,"data-svelte-h":!0}),N(e)!=="svelte-qwsfbr"&&(e.textContent=l),c=P(i),r=g(i,"DIV",{});var a=y(r);t=g(a,"DIV",{class:!0});var x=y(t);o=g(x,"DIV",{class:!0});var k=y(o);n=g(k,"IMG",{src:!0,alt:!0}),k.forEach(h),x.forEach(h),a.forEach(h),this.h()},h:function(){s(e,"class","text-xl font-semibold text-white mb-4"),p(e,m,28,4,780),q(n.src,b=u[1]??u[0].photoURL)||s(n,"src",b),s(n,"alt","User profile"),p(n,m,34,10,994),s(o,"class","w-24 rounded-full border border-indigo-500"),p(o,m,33,8,926),s(t,"class","avatar"),p(t,m,32,6,896),p(r,m,31,4,883)},m:function(i,a){E(i,e,a),E(i,c,a),E(i,r,a),f(r,t),f(t,o),f(o,n)},p:function(i,a){a&3&&!q(n.src,b=i[1]??i[0].photoURL)&&s(n,"src",b)},d:function(i){i&&(h(e),h(c),h(r))}};return A("SvelteRegisterBlock",{block:_,id:ve.name,type:"if",source:"(22:2) {#if $userData?.photoURL}",ctx:u}),_}function ge(u){let e,l,c,r,t,o,n,b,_,d,i="Click to upload",a,x,k,B="SVG, PNG, JPG or GIF (MAX. 800x400px)",S,D,F,L,U,O,H,Y;function K(j,w){return j[0]?.photoURL?ve:me}let G=K(u),C=G(u);const Q={c:function(){C.c(),e=I(),l=v("div"),c=v("div"),r=v("label"),t=v("div"),o=re("svg"),n=re("path"),b=I(),_=v("p"),d=v("span"),d.textContent=i,a=se(" or drag and drop"),x=I(),k=v("p"),k.textContent=B,S=I(),D=v("input"),F=I(),L=v("div"),U=v("a"),O=se("Finish"),this.h()},l:function(w){C.l(w),e=P(w),l=g(w,"DIV",{class:!0});var R=y(l);c=g(R,"DIV",{class:!0});var W=y(c);r=g(W,"LABEL",{for:!0,class:!0});var M=y(r);t=g(M,"DIV",{class:!0});var V=y(t);o=oe(V,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var Z=y(o);n=oe(Z,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),y(n).forEach(h),Z.forEach(h),b=P(V),_=g(V,"P",{class:!0});var z=y(_);d=g(z,"SPAN",{class:!0,"data-svelte-h":!0}),N(d)!=="svelte-1td7sga"&&(d.textContent=i),a=ne(z," or drag and drop"),z.forEach(h),x=P(V),k=g(V,"P",{class:!0,"data-svelte-h":!0}),N(k)!=="svelte-1iokzat"&&(k.textContent=B),V.forEach(h),S=P(M),D=g(M,"INPUT",{id:!0,type:!0,class:!0,accept:!0}),M.forEach(h),W.forEach(h),F=P(R),L=g(R,"DIV",{class:!0});var $=y(L);U=g($,"A",{href:!0,class:!0});var ee=y(U);O=ne(ee,"Finish"),ee.forEach(h),$.forEach(h),R.forEach(h),this.h()},h:function(){s(n,"stroke","currentColor"),s(n,"stroke-linecap","round"),s(n,"stroke-linejoin","round"),s(n,"stroke-width","2"),s(n,"d","M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"),p(n,m,66,12,2203),s(o,"class","w-8 h-8 mb-4 text-gray-500 dark:text-gray-400"),s(o,"aria-hidden","true"),s(o,"xmlns","http://www.w3.org/2000/svg"),s(o,"fill","none"),s(o,"viewBox","0 0 20 16"),p(o,m,59,10,1967),s(d,"class","font-semibold"),p(d,m,75,12,2636),s(_,"class","mb-2 text-sm text-gray-500 dark:text-gray-400"),p(_,m,74,10,2565),s(k,"class","text-xs text-gray-500 dark:text-gray-400"),p(k,m,77,10,2731),s(t,"class","flex flex-col items-center justify-center pt-5 pb-6"),p(t,m,58,8,1890),s(D,"id","photoURL"),s(D,"type","file"),s(D,"class","hidden"),s(D,"accept","image/png, image/jpeg, image/gif, image/webp"),p(D,m,81,8,2876),s(r,"for","photoURL"),s(r,"class","flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600"),p(r,m,54,6,1565),s(c,"class","flex items-center justify-center w-full"),p(c,m,53,4,1504),s(U,"href",u[2]),s(U,"class","btn btn-primary text-white px-10 font-semibold sm:text-lg"),p(U,m,93,6,3146),s(L,"class","mt-4"),p(L,m,92,4,3120),s(l,"class","w-full"),p(l,m,52,2,1478)},m:function(w,R){C.m(w,R),E(w,e,R),E(w,l,R),f(l,c),f(c,r),f(r,t),f(t,o),f(o,n),f(t,b),f(t,_),f(_,d),f(_,a),f(t,x),f(t,k),f(r,S),f(r,D),f(l,F),f(l,L),f(L,U),f(U,O),H||(Y=Ee(D,"change",u[3],!1,!1,!1,!1),H=!0)},p:function(w,R){G===(G=K(w))&&C?C.p(w,R):(C.d(1),C=G(w),C&&(C.c(),C.m(e.parentNode,e))),R&4&&s(U,"href",w[2])},d:function(w){w&&(h(e),h(l)),C.d(w),H=!1,Y()}};return A("SvelteRegisterBlock",{block:Q,id:ge.name,type:"slot",source:"(21:0) <AuthCheck>",ctx:u}),Q}function X(u){let e,l;e=new pe({props:{$$slots:{default:[ge]},$$scope:{ctx:u}},$$inline:!0});const c={c:function(){ye(e.$$.fragment)},l:function(t){xe(e.$$.fragment,t)},m:function(t,o){Ce(e,t,o),l=!0},p:function(t,[o]){const n={};o&71&&(n.$$scope={dirty:o,ctx:t}),e.$set(n)},i:function(t){l||(Re(e.$$.fragment,t),l=!0)},o:function(t){De(e.$$.fragment,t),l=!1},d:function(t){Ue(e,t)}};return A("SvelteRegisterBlock",{block:c,id:X.name,type:"component",source:"",ctx:u}),c}function Le(u,e,l){let c,r,t;te(T,"user"),ae(u,T,a=>l(5,r=a)),te(J,"userData"),ae(u,J,a=>l(0,t=a));let{$$slots:o={},$$scope:n}=e;we("Page",o,[]);let b,_=!1;async function d(a){_=!0;const x=a.target.files[0];l(1,b=URL.createObjectURL(x));const k=fe(ie,`users/${r.uid}/profile.png`),B=await he(k,x),S=await de(B.ref);await ue(ce(le,"users",r.uid),{photoURL:S}),_=!1}const i=[];return Object.keys(e).forEach(a=>{!~i.indexOf(a)&&a.slice(0,2)!=="$$"&&a!=="slot"&&console.warn(`<Page> was created with unknown prop '${a}'`)}),u.$capture_state=()=>({AuthCheck:pe,userData:J,storage:ie,db:le,user:T,doc:ce,updateDoc:ue,getDownloadURL:de,ref:fe,uploadBytes:he,previewURL:b,uploading:_,upload:d,href:c,$user:r,$userData:t}),u.$inject_state=a=>{"previewURL"in a&&l(1,b=a.previewURL),"uploading"in a&&(_=a.uploading),"href"in a&&l(2,c=a.href)},e&&"$$inject"in e&&u.$inject_state(e.$$inject),u.$$.update=()=>{u.$$.dirty&1&&l(2,c=`/${t?.username}`)},[t,b,c,d]}class Se extends be{constructor(e){super(e),ke(this,e,Le,X,_e,{}),A("SvelteRegisterComponent",{component:this,tagName:"Page",options:e,id:X.name})}}export{Se as component};
